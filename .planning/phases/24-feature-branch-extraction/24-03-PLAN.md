---
phase: 24-feature-branch-extraction
plan: 03
type: execute
wave: 2
depends_on: ["24-01"]
files_modified: [app/src/components/ContentTypeRenderer.tsx, app/src/components/ProcedureSteps.tsx, app/src/components/ChecklistView.tsx, app/src/components/ActivityDashboard.tsx, app/src/components/ActivitySidebar.tsx, app/src/app/activity/page.tsx]
autonomous: true
---

<objective>
Simplify content type rendering to static document display and remove activity system.

Purpose: Remove interactive procedure/checklist stepping and activity tracking. Documents with these content types will render as standard markdown via DocumentViewer.
Output: Simplified ContentTypeRenderer, removed interactive components, removed activity routes.
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-plan.md
@~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/24-feature-branch-extraction/24-CONTEXT.md
@.planning/phases/24-feature-branch-extraction/EXTRACTION.md

@app/src/components/ContentTypeRenderer.tsx
@app/src/components/DocumentViewer.tsx
</context>

<tasks>

<task type="auto">
  <name>Task 1: Simplify ContentTypeRenderer</name>
  <files>app/src/components/ContentTypeRenderer.tsx</files>
  <action>
Modify ContentTypeRenderer to route ALL content types to DocumentViewer:

1. Remove imports for extracted components:
```typescript
// REMOVE: import { ProcedureSteps } from "./ProcedureSteps";
// REMOVE: import { ChecklistView } from "./ChecklistView";
```

2. Remove the FormLink internal component (no longer needed)

3. Simplify the switch statement to always use DocumentViewer:

```typescript
"use client";

import { DocumentViewer } from "./DocumentViewer";

interface ContentTypeRendererProps {
  document: {
    _id: string;
    title: string;
    content: string;
    contentType?: "procedure" | "reference" | "form" | "checklist" | "guide";
    sourceType?: string;
    description?: string;
    formId?: string;
  };
  fileUrl?: string;
}

/**
 * ContentTypeRenderer - renders all document types via DocumentViewer.
 *
 * CONNECTOR: Interactive content rendering - restore from feature/full-v1
 * Previously routed procedure → ProcedureSteps, checklist → ChecklistView, form → FormLink
 */
export function ContentTypeRenderer({ document, fileUrl }: ContentTypeRendererProps) {
  // All content types now render as standard documents
  // The contentType field is preserved for future re-enablement
  return <DocumentViewer document={document} fileUrl={fileUrl} />;
}
```

4. Add connector comment documenting what was removed
  </action>
  <verify>Run `bun run build` - should pass without ProcedureSteps/ChecklistView import errors</verify>
  <done>ContentTypeRenderer simplified to single DocumentViewer output, connector comment added</done>
</task>

<task type="auto">
  <name>Task 2: Remove interactive content components</name>
  <files>app/src/components/ProcedureSteps.tsx, app/src/components/ChecklistView.tsx</files>
  <action>
Delete the interactive content components:

```bash
rm app/src/components/ProcedureSteps.tsx
rm app/src/components/ChecklistView.tsx
```

These components provided:
- ProcedureSteps: Interactive step-by-step procedure following with progress tracking
- ChecklistView: Interactive checkbox completion with state persistence

With extraction, procedure and checklist documents display as regular markdown content.

Note: The dynamicContentInstances Convex table and functions remain (unused but non-breaking).
  </action>
  <verify>Run `ls app/src/components/ProcedureSteps.tsx app/src/components/ChecklistView.tsx 2>/dev/null || echo "Components removed"` - should show files not found</verify>
  <done>ProcedureSteps and ChecklistView components deleted</done>
</task>

<task type="auto">
  <name>Task 3: Remove activity system</name>
  <files>app/src/app/activity/page.tsx, app/src/components/ActivityDashboard.tsx, app/src/components/ActivitySidebar.tsx</files>
  <action>
Delete activity route and components:

```bash
rm -rf app/src/app/activity
rm app/src/components/ActivityDashboard.tsx
rm app/src/components/ActivitySidebar.tsx
```

The activity system tracked:
- Procedure starts/completions
- Checklist completions
- Form submissions received

Without interactive content features, the activity dashboard has nothing to display.

Add connector comment in a relevant location (e.g., app/src/app/page.tsx):
```typescript
// CONNECTOR: activity system - restore from feature/full-v1
// Routes: app/src/app/activity/
// Components: ActivityDashboard, ActivitySidebar
```

Note: The activityLog Convex table remains (unused but non-breaking).
  </action>
  <verify>
1. `ls app/src/app/activity 2>/dev/null || echo "Route removed"`
2. `ls app/src/components/Activity*.tsx 2>/dev/null || echo "Components removed"`
Both should show "removed"
  </verify>
  <done>Activity route and components deleted, connector comment added</done>
</task>

</tasks>

<verification>
Before declaring plan complete:
- [ ] ContentTypeRenderer uses DocumentViewer for all types
- [ ] ProcedureSteps and ChecklistView deleted
- [ ] /activity route deleted
- [ ] ActivityDashboard and ActivitySidebar deleted
- [ ] `cd app && bun run build` passes
</verification>

<success_criteria>
- All content types render via DocumentViewer
- Interactive content components removed
- Activity system removed
- Build passes
- Connector comments mark restoration points
</success_criteria>

<output>
After completion, create `.planning/phases/24-feature-branch-extraction/24-03-SUMMARY.md`
</output>
