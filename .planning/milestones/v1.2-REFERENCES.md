# v1.2 Content Architecture — Required References

This file defines documents that ALL plans in v1.2 (Phases 16-23) should reference. The plan-phase workflow should automatically include these in each plan's `<context>` section.

## Purpose

Phase 16 established the architectural foundation for v1.2:
- Mapped current state (user flows, components, data)
- Audited style violations
- Documented target architecture

Without these references, subsequent phases risk:
- Drifting from architectural vision
- Duplicating analysis work
- Making conflicting decisions

## Required References

### Architecture Documents

```
@.planning/phases/16-code-mapping-style-audit/DESIRED-STATE.md
```
**Contains:** Target architecture for v1.2 — component decisions (15 keep, 9 refactor, 7 new), content type definitions, navigation redesign vision, semantic formatting goals.

**Use for:** Any plan involving component creation/modification, navigation changes, content type decisions.

### Style Audit

```
@.planning/phases/16-code-mapping-style-audit/STYLE-VIOLATIONS.md
```
**Contains:** Inventory of 89 style violations (34 high-priority) with specific line numbers and fix instructions.

**Use for:** Any plan touching UI components. Check if target files have remaining violations.

**Note:** Phase 17 resolved the high-priority violations. Some low-priority violations may remain in components outside Phase 17 scope.

### User Flows

```
@.planning/phases/16-code-mapping-style-audit/USER-FLOWS.md
```
**Contains:** Current navigation paths, page relationships, user journeys.

**Use for:** Plans involving navigation redesign (Phase 19), new page creation, flow modifications.

### Component Map

```
@.planning/phases/16-code-mapping-style-audit/COMPONENT-MAP.md
```
**Contains:** Component-to-data relationships, Convex function usage, prop flows.

**Use for:** Plans involving data model changes, component refactoring, new feature integration.

## Key Decisions (Phase 16-17)

These decisions are binding for all v1.2 phases:

| Decision | Source | Applies To |
|----------|--------|------------|
| Error color: `var(--color-error)` (#8B4D4D) | Phase 16 | All error states |
| Border-radius: `0` | Phase 16 | All components (brand aesthetic) |
| Content types: procedure, reference, form, checklist, guide | Phase 16 | Content classification |
| Navigation: Purpose-based replaces category-based | Phase 16 | Phase 19+ |
| Typography tokens: `var(--text-*)` | Phase 17 | All text sizing |
| Spacing tokens: `var(--space-*)` | Phase 17 | All spacing |

## How to Use

When running `/gsd:plan-phase {N}` for Phases 18-23:

1. The planning agent should read this file first
2. Include relevant `@` references in each plan's `<context>` section
3. Check DESIRED-STATE.md before creating new components
4. Check STYLE-VIOLATIONS.md before modifying existing components
5. Reference accumulated decisions in STATE.md

## Workflow Integration

**For plan-phase workflow:**
```markdown
<milestone_context>
Read @.planning/milestones/v1.2-REFERENCES.md before creating plans.
Include relevant references from this file in each plan's context.
</milestone_context>
```

This ensures architectural continuity across the entire milestone.
