---
phase: 17-base-component-fixes
plan: 03
type: execute
wave: 2
depends_on: ["17-01"]
files_modified:
  - app/src/components/FormRenderer.tsx
  - app/src/components/FormBuilder.tsx
autonomous: true
---

<objective>
Complete design token adoption in form system components: FormRenderer and FormBuilder.

Purpose: After Plan 17-01 fixes error colors, these components still have 20 remaining violations (11 in FormRenderer, 9 in FormBuilder) for typography, spacing, and transitions. These are the "worst offenders" in the style audit.

Output: FormRenderer.tsx and FormBuilder.tsx fully compliant with design system.
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-plan.md
@~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/16-code-mapping-style-audit/STYLE-VIOLATIONS.md
@.planning/phases/17-base-component-fixes/17-01-SUMMARY.md
@app/src/components/FormRenderer.tsx
@app/src/components/FormBuilder.tsx
</context>

<tasks>

<task type="auto">
  <name>Task 1: Fix FormRenderer.tsx remaining violations</name>
  <files>app/src/components/FormRenderer.tsx</files>
  <action>
Replace remaining hardcoded values with design tokens. Error colors were fixed in Plan 17-01.

**Spacing (4 violations):**
- Line 205: `"0.375rem"` → `"var(--space-1)"` (closest token, 4px)
- Line 226: `"0.75rem 1rem"` → `"var(--space-3) var(--space-4)"`
- Line 464: `"2rem"` → `"var(--space-8)"`
- Line 496: `"1.5rem"` → `"var(--space-6)"`

**Typography (6 violations):**
- Line 209: `"0.8125rem"` → `"var(--text-xs)"`
- Line 210: `500` → `"var(--font-medium)"`
- Line 225: `"0.875rem"` → `"var(--text-sm)"`
- Line 468: `"1.75rem"` → `"var(--text-2xl)"`
- Line 472: `"-0.02em"` → `"var(--tracking-snug)"`
- Line 481: `"0.9375rem"` → `"var(--text-sm)"` (closest match)

**Transition (1 violation):**
- Line 233: `"180ms ease-out"` → `"var(--duration-fast) var(--ease-out)"`

Note: Line numbers are approximate from the original audit. Search contextually.
  </action>
  <verify>grep for hardcoded values like "0.375rem", "0.8125rem", "180ms" in FormRenderer.tsx returns no results</verify>
  <done>FormRenderer.tsx uses design tokens for all spacing, typography, and transitions. 11 remaining violations fixed.</done>
</task>

<task type="auto">
  <name>Task 2: Fix FormBuilder.tsx remaining violations</name>
  <files>app/src/components/FormBuilder.tsx</files>
  <action>
Replace remaining hardcoded values with design tokens. Error colors were fixed in Plan 17-01.

**Spacing (5 violations):**
- Line 207: `"2rem"` → `"var(--space-8)"`
- Line 244: `"1.5rem"` → `"var(--space-6)"`
- Line 268: `"1rem"` → `"var(--space-4)"`
- Line 284: `"0.375rem"` → `"var(--space-1)"`
- Line 296: `"0.75rem 1rem"` → `"var(--space-3) var(--space-4)"`
- Line 383: `"2rem"` → `"var(--space-8)"`
- Line 402: `"0.75rem 1rem"` → `"var(--space-3) var(--space-4)"`

**Typography (3 violations):**
- Line 210: `"0.875rem"` → `"var(--text-sm)"`
- Line 257: `"1rem"` → `"var(--text-base)"`
- Line 282: `"0.8125rem"` → `"var(--text-xs)"`
- Line 298: `"0.875rem"` → `"var(--text-sm)"`
- Line 386: `"0.875rem"` → `"var(--text-sm)"`

**Transition (1 violation):**
- Line 305: `"150ms ease"` → `"var(--duration-fast) var(--ease-default)"`

**Color (1 violation - surface color):**
- Line 403: `"#F8F8F6"` → `"var(--color-surface-dim)"`

Note: Some spacing violations may overlap. Fix all unique hardcoded values found.
  </action>
  <verify>grep for hardcoded values like "#F8F8F6", "150ms ease", "0.8125rem" in FormBuilder.tsx returns no results</verify>
  <done>FormBuilder.tsx uses design tokens for all spacing, typography, transitions, and surface colors. 9 remaining violations fixed.</done>
</task>

</tasks>

<verification>
Before declaring plan complete:
- [ ] FormRenderer.tsx has no hardcoded rem/em/ms values
- [ ] FormBuilder.tsx has no hardcoded rem/em/ms values or #F8F8F6
- [ ] `bun run build` in app/ succeeds without errors
- [ ] Forms still render and function correctly (visual spot check)
</verification>

<success_criteria>

- All 20 remaining violations in form components fixed
- Both components use design tokens exclusively
- No hardcoded typography, spacing, transition, or color values remain
- Build passes without errors
</success_criteria>

<output>
After completion, create `.planning/phases/17-base-component-fixes/17-03-SUMMARY.md`
</output>
