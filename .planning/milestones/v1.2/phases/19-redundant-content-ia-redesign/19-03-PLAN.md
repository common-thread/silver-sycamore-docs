---
phase: 19-redundant-content-ia-redesign
plan: 03
type: execute
wave: 3
depends_on: ["19-02"]
files_modified:
  - app/src/app/page.tsx
  - app/src/app/procedures/page.tsx
  - app/src/app/references/page.tsx
  - app/src/app/checklists/page.tsx
  - app/src/app/guides/page.tsx
autonomous: false
---

<objective>
Update home page to use QuickActionNav and create content type listing pages.

Purpose: Complete the purpose-based navigation by replacing CategoryGrid with QuickActionNav and creating landing pages for each content type.
Output: Updated home page, working content type listing pages, visual verification of new navigation.
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-plan.md
@~/.claude/get-shit-done/templates/summary.md
@~/.claude/get-shit-done/references/checkpoints.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/milestones/v1.2-REFERENCES.md
@.planning/phases/16-code-mapping-style-audit/DESIRED-STATE.md
@.planning/phases/19-redundant-content-ia-redesign/19-01-SUMMARY.md
@.planning/phases/19-redundant-content-ia-redesign/19-02-SUMMARY.md
@app/src/app/page.tsx
@app/src/components/QuickActionNav.tsx
</context>

<tasks>

<task type="auto">
  <name>Task 1: Update home page with QuickActionNav</name>
  <files>app/src/app/page.tsx</files>
  <action>
Replace CategoryGrid import and usage with QuickActionNav:

```typescript
import { InitiativesTable } from "@/components/InitiativesTable";
import { QuickActionNav } from "@/components/QuickActionNav";
import { ContentBox } from "@/components/ContentBox";

export default function Home() {
  return (
    <>
      <ContentBox>
        <h1
          style={{
            fontFamily: "var(--font-display)",
            fontSize: "var(--text-2xl)",
            fontWeight: "var(--font-semibold)",
            marginBottom: "var(--space-2)",
            color: "var(--color-ink)",
          }}
        >
          Staff Dashboard
        </h1>
        <p style={{ color: "var(--color-ink-muted)", margin: 0 }}>
          Internal documentation and project tracking
        </p>
      </ContentBox>

      <ContentBox>
        <h2
          style={{
            fontFamily: "var(--font-display)",
            fontSize: "var(--text-xl)",
            fontWeight: "var(--font-semibold)",
            marginBottom: "var(--space-5)",
            color: "var(--color-ink)",
          }}
        >
          Priority Initiatives
        </h2>
        <InitiativesTable />
      </ContentBox>

      <ContentBox>
        <h2
          style={{
            fontFamily: "var(--font-display)",
            fontSize: "var(--text-xl)",
            fontWeight: "var(--font-semibold)",
            marginBottom: "var(--space-5)",
            color: "var(--color-ink)",
          }}
        >
          Quick Actions
        </h2>
        <QuickActionNav />
      </ContentBox>
    </>
  );
}
```

Changes:
- Replace CategoryGrid with QuickActionNav
- Change section title from "Browse Documents" to "Quick Actions"
- Adopt design tokens for typography (var(--text-*), var(--font-*), var(--space-*))
  </action>
  <verify>Run `cd app && npx tsc --noEmit src/app/page.tsx`</verify>
  <done>Home page uses QuickActionNav instead of CategoryGrid</done>
</task>

<task type="auto">
  <name>Task 2: Create content type listing pages</name>
  <files>app/src/app/procedures/page.tsx, app/src/app/references/page.tsx, app/src/app/checklists/page.tsx, app/src/app/guides/page.tsx</files>
  <action>
Create four listing pages that display documents filtered by contentType. Each page follows the same pattern:

**app/src/app/procedures/page.tsx:**
```typescript
"use client";

import Link from "next/link";
import { useQuery } from "convex/react";
import { api } from "../../../convex/_generated/api";
import { ContentBox } from "@/components/ContentBox";
import { PageHeader } from "@/components/PageHeader";

export default function ProceduresPage() {
  const documents = useQuery(api.documents.byContentType, { contentType: "procedure" });

  return (
    <>
      <PageHeader
        title="Procedures"
        description="Step-by-step instructions for daily operations"
      />
      <ContentBox>
        {documents === undefined ? (
          <p style={{ color: "var(--color-ink-muted)" }}>Loading...</p>
        ) : documents.length === 0 ? (
          <p style={{ color: "var(--color-ink-muted)" }}>No procedures found.</p>
        ) : (
          <ul style={{ listStyle: "none", padding: 0, margin: 0 }}>
            {documents.map((doc) => (
              <li
                key={doc._id}
                style={{
                  borderBottom: "1px solid var(--color-border)",
                  padding: "var(--space-4) 0",
                }}
              >
                <Link
                  href={`/${doc.category}/${doc.slug}`}
                  style={{
                    color: "var(--color-ink)",
                    textDecoration: "none",
                    fontFamily: "var(--font-display)",
                    fontSize: "var(--text-base)",
                    fontWeight: "var(--font-medium)",
                  }}
                >
                  {doc.title}
                </Link>
                {doc.description && (
                  <p
                    style={{
                      color: "var(--color-ink-muted)",
                      fontSize: "var(--text-sm)",
                      margin: "var(--space-1) 0 0 0",
                    }}
                  >
                    {doc.description}
                  </p>
                )}
              </li>
            ))}
          </ul>
        )}
      </ContentBox>
    </>
  );
}
```

Create similar pages for:
- **references/page.tsx**: title="References", description="Packages, menus, pricing, and venue layouts", contentType="reference"
- **checklists/page.tsx**: title="Checklists", description="Planning checklists and task lists", contentType="checklist"
- **guides/page.tsx**: title="Guides", description="Navigation and overview documents", contentType="guide"

All pages:
- Use design tokens exclusively
- Query documents.byContentType
- Link to existing /{category}/{slug} routes
- Show title and description for each document
  </action>
  <verify>Run `cd app && npx tsc --noEmit src/app/procedures/page.tsx src/app/references/page.tsx src/app/checklists/page.tsx src/app/guides/page.tsx`</verify>
  <done>Four content type listing pages created and TypeScript compiles</done>
</task>

<task type="checkpoint:human-verify" gate="blocking">
  <what-built>
Purpose-based navigation system:
- QuickActionNav on home page with 5 action cards
- Header with purpose-based nav items (Procedures, References, Checklists, Guides)
- Four content type listing pages
- Old category-based nav removed
  </what-built>
  <how-to-verify>
1. Start dev servers:
   - Terminal 1: `cd app && bun run dev`
   - Terminal 2: `cd app && npx convex dev`

2. Run import to populate contentTypes:
   - Terminal 3: `cd app && source .env.local && bun run import-docs`
   - Verify output shows content types: [procedure], [reference], etc.
   - Verify redundant forms are skipped: [REDUNDANT - skipped]

3. Visit http://localhost:3000 and verify:
   - Header shows: Home | Procedures | References | Checklists | Guides | Messages | Forms | My Workspace
   - "Quick Actions" section shows 5 cards with document counts
   - No old category nav items (Services, Clients, Staff, Operations, Deliverables)

4. Click each Quick Action card:
   - /procedures shows procedure documents (~10)
   - /references shows reference documents (~32)
   - /checklists shows checklist documents (~5)
   - /guides shows guide documents (~5)
   - /forms goes to existing forms section

5. Click a document from any listing:
   - Verify it navigates to the document viewer correctly
   - Verify the document displays its content

6. Use header nav to navigate between sections:
   - Verify active state styling works
   - Verify navigation is intuitive
  </how-to-verify>
  <resume-signal>Type "approved" to continue, or describe issues to fix</resume-signal>
</task>

</tasks>

<verification>
Before declaring plan complete:
- [ ] Home page uses QuickActionNav
- [ ] All four content type listing pages exist and compile
- [ ] Import script populates contentTypes correctly
- [ ] Header navigation reflects purpose-based structure
- [ ] Visual verification approved by user
</verification>

<success_criteria>
- Home page displays QuickActionNav instead of CategoryGrid
- /procedures, /references, /checklists, /guides pages work
- Documents display with correct contentType filtering
- Navigation is intuitive and purpose-based
- User approves visual verification
</success_criteria>

<output>
After completion, create `.planning/phases/19-redundant-content-ia-redesign/19-03-SUMMARY.md`
</output>
