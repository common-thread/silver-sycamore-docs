---
phase: 24-feature-branch-extraction
plan: 05
type: execute
wave: 3
depends_on: ["24-02", "24-03", "24-04"]
files_modified: [app/src/components/Header.tsx, app/src/components/QuickActionNav.tsx]
autonomous: false
---

<objective>
Clean up navigation and verify extracted codebase builds and runs correctly.

Purpose: Final pass to update navigation menus after feature extraction, verify build passes, and visually confirm the simplified app works.
Output: Clean navigation, passing build, verified functional app.
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-plan.md
@~/.claude/get-shit-done/templates/summary.md
@~/.claude/get-shit-done/references/checkpoints.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/24-feature-branch-extraction/24-CONTEXT.md
@.planning/phases/24-feature-branch-extraction/EXTRACTION.md

@app/src/components/Header.tsx
@app/src/components/QuickActionNav.tsx
</context>

<tasks>

<task type="auto">
  <name>Task 1: Update Header navigation items</name>
  <files>app/src/components/Header.tsx</files>
  <action>
Update Header.tsx navItems array to remove extracted features:

Current navItems:
```typescript
const navItems = [
  { href: "/", label: "Home" },
  { href: "/procedures", label: "Procedures" },
  { href: "/references", label: "References" },
  { href: "/checklists", label: "Checklists" },
  { href: "/guides", label: "Guides" },
  { href: "/style-guides", label: "Style Guides" },
  { href: "/messages", label: "Messages" },      // REMOVE
  { href: "/forms", label: "Forms" },            // REMOVE
  { href: "/activity", label: "Activity" },      // REMOVE
  { href: "/workspace", label: "My Workspace" },
];
```

Updated navItems:
```typescript
const navItems = [
  { href: "/", label: "Home" },
  { href: "/procedures", label: "Procedures" },
  { href: "/references", label: "References" },
  { href: "/checklists", label: "Checklists" },
  { href: "/guides", label: "Guides" },
  { href: "/style-guides", label: "Style Guides" },
  // CONNECTOR: extracted features nav links - restore from feature/full-v1
  // { href: "/messages", label: "Messages" },
  // { href: "/forms", label: "Forms" },
  // { href: "/activity", label: "Activity" },
  { href: "/workspace", label: "My Workspace" },
];
```

Keep /procedures, /checklists, /guides as they show wiki documents filtered by content type.
Keep /workspace as personal workspace remains functional.
  </action>
  <verify>Header navItems array has 7 entries (Home, Procedures, References, Checklists, Guides, Style Guides, My Workspace)</verify>
  <done>Header nav updated, removed Messages/Forms/Activity links, connector comment added</done>
</task>

<task type="auto">
  <name>Task 2: Update QuickActionNav</name>
  <files>app/src/components/QuickActionNav.tsx</files>
  <action>
Update QuickActionNav to remove Forms entry:

Current quickActions array includes Forms link. Remove it:

```typescript
const quickActions = [
  {
    href: "/procedures",
    label: "Procedures",
    description: "Step-by-step instructions for daily operations",
    contentType: "procedure",
  },
  {
    href: "/references",
    label: "References",
    description: "Packages, menus, pricing, and venue layouts",
    contentType: "reference",
  },
  {
    href: "/checklists",
    label: "Checklists",
    description: "Planning checklists and task lists",
    contentType: "checklist",
  },
  {
    href: "/guides",
    label: "Guides",
    description: "Navigation and overview documents",
    contentType: "guide",
  },
  // CONNECTOR: forms quick action - restore from feature/full-v1
  // {
  //   href: "/forms",
  //   label: "Forms",
  //   description: "Create, send, and manage forms",
  //   contentType: null,
  // },
];
```

This reduces quick actions from 5 to 4.
  </action>
  <verify>QuickActionNav quickActions array has 4 entries (Procedures, References, Checklists, Guides)</verify>
  <done>QuickActionNav updated, Forms removed, connector comment added</done>
</task>

<task type="auto">
  <name>Task 3: Build verification</name>
  <files>None - verification only</files>
  <action>
Run full build to verify extraction is complete:

```bash
cd app
bun run build
```

Expected outcome:
- Build completes successfully
- No import errors for removed components
- No broken route references

If build fails:
1. Check error message for missing imports
2. Remove the import or component reference
3. Add connector comment noting what was removed
4. Retry build
  </action>
  <verify>`cd app && bun run build` completes without errors</verify>
  <done>Build passes with no errors</done>
</task>

<task type="checkpoint:human-verify" gate="blocking">
  <what-built>Simplified Staff Hub with extracted features (messaging, forms builder, comments, interactive content, activity)</what-built>
  <how-to-verify>
    1. Run: `cd app && bun run dev`
    2. Visit: http://localhost:3000
    3. Verify navigation shows: Home, Procedures, References, Checklists, Guides, Style Guides, My Workspace
    4. Verify NO nav links for: Messages, Forms, Activity
    5. Click "Procedures" - should show list of procedure-type documents
    6. Click a procedure document - should render as markdown (no interactive steps)
    7. Verify no errors in browser console
    8. Optional: Set NEXT_PUBLIC_ENABLE_AUTH=false, restart, verify app works without login
  </how-to-verify>
  <resume-signal>Type "approved" to continue, or describe any issues</resume-signal>
</task>

</tasks>

<verification>
Before declaring plan complete:
- [ ] Header nav has 7 items (extracted features removed)
- [ ] QuickActionNav has 4 items (Forms removed)
- [ ] `bun run build` passes
- [ ] App runs and displays correctly
- [ ] Extracted routes return 404 (expected behavior)
</verification>

<success_criteria>
- Navigation menus cleaned up
- Build passes without errors
- App runs in browser
- Visual verification approved
- All connector comments in place for restoration
</success_criteria>

<output>
After completion, create `.planning/phases/24-feature-branch-extraction/24-05-SUMMARY.md`
</output>
