---
phase: 14-ui-cleanup
plan: 02
type: execute
wave: 1
depends_on: []
files_modified:
  - app/src/components/DocumentViewer.tsx
  - app/src/app/catalog/page.tsx
autonomous: true
---

<objective>
Remove technical indicators from document UI to create a clean staff experience, following the brand style guide.

Purpose: Staff should see documents without file type labels, technical emojis, or source file paths. This is a Notion-lite wiki, not a file server.
Output: Clean document viewer and catalog page styled per brand foundation.
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-plan.md
@~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/14-ui-cleanup/14-CONTEXT.md
@.planning/phases/13-brand-foundation/13-01-SUMMARY.md

# Brand Foundation (CRITICAL - follow these exactly)
@.planning/brand-package/STYLE-GUIDE.md
@app/src/app/globals.css
@app/src/app/style-guide/page.tsx

# Source files
@app/src/components/DocumentViewer.tsx
@app/src/app/catalog/page.tsx
</context>

<tasks>

<task type="auto">
  <name>Task 1: Clean DocumentViewer binary file placeholder</name>
  <files>app/src/components/DocumentViewer.tsx</files>
  <action>
In the binary file fallback section (lines 82-155), make these changes:

1. **Remove emoji display** (lines 117-127):
   - Delete the entire div containing emoji conditionals (ðŸ“„, ðŸ“Š, ðŸ“‘)

2. **Remove type labels** (lines 84-88, 128-137):
   - Delete the `typeLabels` object
   - Delete the h3 that displays "Word Document", "Excel Spreadsheet", etc.

3. **Remove source file path** (lines 138-141):
   - Delete the paragraph showing `document.sourceFile`

4. **Update placeholder card with brand-compliant styling:**
   - Background: `var(--color-paper-warm)` (soft cream, not harsh)
   - Border: `1px solid var(--color-border)`
   - Border radius: `var(--radius-md)` or 4px
   - Padding: `var(--space-8)` (2rem)
   - Center-aligned content

5. **Update placeholder message:**
   - Remove "Document preview coming soon"
   - Replace with clean message: "This document is pending conversion."
   - Style: `var(--color-ink-muted)`, `var(--text-sm)`
   - No download prompts â€” per 14-CONTEXT.md, unconverted content is a gap to fix

**Result:** The binary file card should show only:
- Document title (already shown above the card)
- Document description (already shown above the card)
- A clean card with brief message: "This document is pending conversion."
- No emojis, no type labels, no file paths, no download prompts

**Keep:** The iframe viewer for files WITH fileUrl (lines 22-80) â€” these have working previews with download link, which is fine.
  </action>
  <verify>Run `cd app && npx tsc --noEmit` to verify no TypeScript errors</verify>
  <done>DocumentViewer binary fallback shows only "This document is pending conversion." with brand-compliant styling.</done>
</task>

<task type="auto">
  <name>Task 2: Remove Type column from catalog page</name>
  <files>app/src/app/catalog/page.tsx</files>
  <action>
Remove the "Type" column from the document catalog table:

1. **Remove column header** (line 51):
   - Delete `<th>Type</th>`

2. **Remove column data** (line 68):
   - Delete `<td className="text-[#586069]">{doc.sourceType || "md"}</td>`

3. **Verify remaining columns use brand tokens:**
   - Table text should use `--color-ink` or `--color-ink-light`
   - Links should use `--color-accent` (champagne-deep)
   - Subcategory text should use `--color-ink-muted`

**Result:** Table shows only Document and Subcategory columns. Staff see document names and organization, not raw file extensions.
  </action>
  <verify>Run `cd app && npx tsc --noEmit` to verify no TypeScript errors</verify>
  <done>Catalog page shows only Document and Subcategory columns with brand-compliant styling.</done>
</task>

<task type="auto">
  <name>Task 3: Verify build and brand compliance</name>
  <files>app/src/components/DocumentViewer.tsx, app/src/app/catalog/page.tsx</files>
  <action>
Run build and verify changes work correctly:

1. Run full build: `cd app && bun run build`
2. Check no warnings about removed code
3. Verify both files compile without errors

**Brand compliance checklist:**
- DocumentViewer placeholder uses brand tokens (--color-paper-warm, --color-border, --color-ink-muted)
- Catalog table uses brand tokens (--color-ink, --color-accent)
- No hardcoded colors that should be tokens
- Typography follows brand guide (DM Sans body, appropriate sizes)
  </action>
  <verify>Build completes successfully with `cd app && bun run build`</verify>
  <done>Application builds without errors. Technical indicators removed with brand-compliant styling.</done>
</task>

</tasks>

<verification>
Before declaring plan complete:
- [ ] No TypeScript errors: `cd app && npx tsc --noEmit`
- [ ] Build succeeds: `cd app && bun run build`
- [ ] DocumentViewer.tsx has no emojis
- [ ] DocumentViewer.tsx has no typeLabels or sourceFile display
- [ ] DocumentViewer.tsx binary fallback shows "This document is pending conversion."
- [ ] DocumentViewer.tsx placeholder uses brand tokens (--color-paper-warm, --color-ink-muted)
- [ ] catalog/page.tsx has no Type column
- [ ] All colors use brand design tokens, not hardcoded hex values
</verification>

<success_criteria>

- Document viewer shows clean placeholder for unconverted files
- Catalog page shows only Document and Subcategory columns
- No emojis, file type labels, or source file paths visible to users
- All styling follows brand style guide
- Build passes without errors
</success_criteria>

<output>
After completion, create `.planning/phases/14-ui-cleanup/14-02-SUMMARY.md`
</output>
